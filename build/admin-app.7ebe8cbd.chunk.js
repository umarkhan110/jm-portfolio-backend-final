(self.webpackChunkjm_portfolio_backend=self.webpackChunkjm_portfolio_backend||[]).push([[5538],{95423:(I,f,e)=>{var t={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function l(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+o+"'");throw g.code="MODULE_NOT_FOUND",g});var E=t[o],p=E[0];return e.e(E[1]).then(()=>e.t(p,19))}l.keys=()=>Object.keys(t),l.id=95423,I.exports=l},42243:(I,f,e)=>{"use strict";e.d(f,{Z:()=>ct});var t=e(53209),l=e(68547),o=e(67294),E=e(97132),p=e(45697),g=e.n(p),y=e(41580),O=e(7681),w=e(185),ee=e(11047),U=e(29728),v=e(16364),A=e(75515),Z=e(80831),L=e(36206),j=e(79690);const P=({onSubmit:H,schema:Be})=>{const{formatMessage:x}=(0,E.useIntl)();return o.createElement(L.ZP,null,o.createElement(w.o,null,o.createElement(L.bU,null,o.createElement(Z.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:H,validationSchema:Be,validateOnChange:!1},({values:me,errors:we,handleChange:Ye})=>o.createElement(l.Form,{noValidate:!0},o.createElement(L.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},x({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),we.errorMessage&&o.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},x({id:we.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(O.K,{spacing:6},o.createElement(v.o,{error:we.email?x({id:we.email,defaultMessage:"This email is invalid."}):"",value:me.email,onChange:Ye,label:x({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:x({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),o.createElement(U.z,{type:"submit",fullWidth:!0},x({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),o.createElement(ee.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},x({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};P.defaultProps={onSubmit:H=>H.preventDefault()},P.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const V=P,F=()=>{const{formatMessage:H}=(0,E.useIntl)();return o.createElement(L.ZP,null,o.createElement(w.o,null,o.createElement(L.bU,null,o.createElement(L.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},H({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),o.createElement(A.Z,null,H({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),o.createElement(y.x,{paddingTop:4},o.createElement(A.Z,null,H({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),o.createElement(ee.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},H({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},T=()=>{const{formatMessage:H}=(0,E.useIntl)(),x=(0,l.useQuery)().get("info")||H({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return o.createElement(L.ZP,null,o.createElement(w.o,null,o.createElement(L.bU,null,o.createElement(L.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},H({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),o.createElement(A.Z,null,x),o.createElement(y.x,{paddingTop:4},o.createElement(A.Z,null,H({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),o.createElement(ee.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},H({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var re=e(71893),ke=e(27361),Oe=e.n(ke),ye=e(57557),a=e.n(ye),S=e(49656),K=e(11817),X=e(36213),ce=e(11276),pe=e(74571),Q=e(94123),G=e(8934),We=e(68070);const Ct=(0,re.default)(y.x)`
  text-align: center;
`,Te=re.default.a`
  color: ${({theme:H})=>H.colors.primary600};
`,ft=(0,re.default)(v.o)`
  ::-ms-reveal {
    display: none;
  }
`,at=({authType:H,fieldsToDisable:Be,noSignin:x,onSubmit:me,schema:we})=>{const Ye=(0,l.useNotification)(),{push:Pe}=(0,S.useHistory)(),[ze,Re]=(0,o.useState)(!1),[Ve,Je]=(0,o.useState)(!1),[Ne,Lt]=(0,o.useState)(0),[it,_e]=(0,o.useState)({}),{trackUsage:ht}=(0,l.useTracking)(),{formatMessage:te}=(0,E.useIntl)(),Xe=(0,l.useQuery)().get("registrationToken");return(0,o.useEffect)(()=>{Xe&&(async()=>{try{const{data:{data:N}}=await K.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Xe}`);N&&_e(N)}catch(N){const Ae=Oe()(N,["response","data","message"],"An error occurred");Ye({type:"warning",message:Ae}),Pe(`/auth/oops?info=${encodeURIComponent(Ae)}`)}})()},[Xe]),o.createElement(L.ZP,null,o.createElement(L.bU,null,o.createElement(Z.Formik,{enableReinitialize:!0,initialValues:{firstname:it.firstname||"",lastname:it.lastname||"",email:it.email||"",password:"",confirmPassword:"",registrationToken:Xe||void 0,news:!1},onSubmit:async(be,N)=>{try{await we.validate(be,{abortEarly:!1}),Ne>0&&H==="register-admin"&&ht("didSubmitWithErrorsFirstAdmin",{count:Ne.toString()}),me(Xe?{userInfo:a()(be,["registrationToken"]),registrationToken:Xe}:be,N)}catch(Ae){const Fe=(0,l.getYupInnerErrors)(Ae);Lt(Ne+1),N.setErrors(Fe)}},validateOnChange:!1},({values:be,errors:N,handleChange:Ae})=>o.createElement(l.Form,{noValidate:!0},o.createElement(w.o,null,o.createElement(L.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:1},o.createElement(A.Z,{as:"h1",variant:"alpha"},te({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),o.createElement(Ct,{paddingBottom:7},o.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},te({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),o.createElement(O.K,{spacing:6},o.createElement(ce.r,{gap:4},o.createElement(pe.P,{col:6},o.createElement(v.o,{name:"firstname",required:!0,value:be.firstname,error:N.firstname?te(N.firstname):void 0,onChange:Ae,label:te({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),o.createElement(pe.P,{col:6},o.createElement(v.o,{name:"lastname",value:be.lastname,onChange:Ae,label:te({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),o.createElement(v.o,{name:"email",disabled:Be.includes("email"),value:be.email,onChange:Ae,error:N.email?te(N.email):void 0,required:!0,label:te({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),o.createElement(ft,{name:"password",onChange:Ae,value:be.password,error:N.password?te(N.password):void 0,endAction:o.createElement(We.Z,{onClick:Fe=>{Fe.preventDefault(),Re(Ke=>!Ke)},label:te(ze?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ze?o.createElement(G.default,null):o.createElement(Q.default,null)),hint:te({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:te({id:"global.password",defaultMessage:"Password"}),type:ze?"text":"password"}),o.createElement(ft,{name:"confirmPassword",onChange:Ae,value:be.confirmPassword,error:N.confirmPassword?te(N.confirmPassword):void 0,endAction:o.createElement(We.Z,{onClick:Fe=>{Fe.preventDefault(),Je(Ke=>!Ke)},label:te(Ve?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ve?o.createElement(G.default,null):o.createElement(Q.default,null)),required:!0,label:te({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ve?"text":"password"}),o.createElement(X.X,{onValueChange:Fe=>{Ae({target:{value:Fe,name:"news"}})},value:be.news,name:"news","aria-label":"news"},te({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:o.createElement(Te,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},te({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:o.createElement(Te,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},te({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),o.createElement(U.z,{fullWidth:!0,size:"L",type:"submit"},te({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!x&&o.createElement(y.x,{paddingTop:4},o.createElement(ee.k,{justifyContent:"center"},o.createElement(l.Link,{label:"Auth.link.signin",to:"/auth/login"},te({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};at.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:H=>H.preventDefault()},at.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const ut=at,he=(0,re.default)(v.o)`
  ::-ms-reveal {
    display: none;
  }
`,dt=({onSubmit:H,schema:Be})=>{const[x,me]=(0,o.useState)(!1),[we,Ye]=(0,o.useState)(!1),{formatMessage:Pe}=(0,E.useIntl)();return o.createElement(L.ZP,null,o.createElement(w.o,null,o.createElement(L.bU,null,o.createElement(Z.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:H,validationSchema:Be,validateOnChange:!1},({values:ze,errors:Re,handleChange:Ve})=>o.createElement(l.Form,{noValidate:!0},o.createElement(L.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},Pe({id:"global.reset-password",defaultMessage:"Reset password"}))),Re.errorMessage&&o.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},Pe({id:Re.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(O.K,{spacing:6},o.createElement(he,{name:"password",onChange:Ve,value:ze.password,error:Re.password?Pe({id:Re.password,defaultMessage:"This field is required."}):void 0,endAction:o.createElement(We.Z,{onClick:Je=>{Je.preventDefault(),me(Ne=>!Ne)},label:Pe(x?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},x?o.createElement(G.default,null):o.createElement(Q.default,null)),hint:Pe({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:Pe({id:"global.password",defaultMessage:"Password"}),type:x?"text":"password"}),o.createElement(he,{name:"confirmPassword",onChange:Ve,value:ze.confirmPassword,error:Re.confirmPassword?Pe({id:Re.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:o.createElement(We.Z,{onClick:Je=>{Je.preventDefault(),Ye(Ne=>!Ne)},label:Pe(x?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},we?o.createElement(G.default,null):o.createElement(Q.default,null)),required:!0,label:Pe({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:we?"text":"password"}),o.createElement(U.z,{fullwidth:!0,type:"submit"},Pe({id:"global.change-password",defaultMessage:"Change password"})))))),o.createElement(ee.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},Pe({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};dt.defaultProps={onSubmit:H=>H.preventDefault()},dt.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const ot=dt;var st=function(){return window&&window.strapi&&window.strapi.isEE?e(9442).Z:e(73347).Z}(),rt={"forgot-password":{Component:V,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:F,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:st,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required),password:t.Z_().required(l.translatedErrors.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:T,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:ut,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().trim().required(l.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required),registrationToken:t.Z_().required(l.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:ut,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().trim().required(l.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),email:t.Z_().email(l.translatedErrors.email).strict().lowercase(l.translatedErrors.lowercase).required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:ot,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)})}};const ct=rt},87751:(I,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(96486);const o={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.install",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],install:[{action:"admin::marketplace.plugins.install",subject:null}],read:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],uninstall:[{action:"admin::marketplace.plugins.uninstall",subject:null}]},settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var E=function(){return window&&window.strapi&&window.strapi.isEE?e(2199).Z:e(69623).Z}(),p=(0,t.merge)(o,E);const g=p},31424:(I,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>nn});var t=e(67294),l=e(49656),o=e(42675),E=e(38992),p=e(82492),g=e.n(p),y=e(78718),O=e.n(y),w=e(23560),ee=e.n(w),U=e(41143),v=e.n(U),A=e(15482),Z=e(63871);const j=()=>{const i=[];return{register(s){i.push(s)},delete(s){i.splice(i.indexOf(s),1)},runWaterfall(s,n){return i.reduce((r,d)=>d(r,n),s)},async runWaterfallAsync(s,n){let r=s;for(const d of i)r=await d(r,n);return r},runSeries(...s){return i.map(n=>n(...s))},async runSeriesAsync(...s){const n=[];for(const r of i)n.push(await r(...s));return n},runParallel(...s){return Promise.all(i.map(n=>n(...s)))}}};var P=e(35281);const V=(i,s)=>{let n=P.compose;const r=[];i.forEach(h=>{r.push(h())});const d=(0,P.createStore)(de(s,{}),{},n((0,P.applyMiddleware)(...r)));return d.asyncReducers={},d.injectReducer=(h,R)=>{d.asyncReducers[h]=R,d.replaceReducer(de(s,d.asyncReducers))},d},de=(i,s)=>(0,P.combineReducers)({...i,...s}),F=V;var je=e(42775),T=e(68547),re=e(11817),ke=e(727),Oe=e(97132),ye=e(45697),a=e.n(ye);const S=({component:i,path:s,...n})=>{const{pathname:r,search:d}=(0,l.useLocation)();return t.createElement(l.Route,{path:s,render:h=>T.auth.getToken()!==null?t.createElement(i,{...n,...h}):t.createElement(l.Redirect,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${d}`)}`}})})};S.propTypes={component:a().any.isRequired,path:a().string.isRequired};const K=(0,t.memo)(S);var X=e(38683),ce=e(87462),pe=e(64572),Q=e(15861),G=e(70885),We=e(45987),Ct=e(64687),Te=e.n(Ct),ft=e(68929),at=e.n(ft),ut=e(27361),he=e.n(ut),dt=e(57557),ot=e.n(dt);const st="GUIDED_TOUR_CURRENT_STEP",rt="GUIDED_TOUR_COMPLETED_STEPS",ct="GUIDED_TOUR_SKIPPED",H=JSON.parse,Be=JSON.stringify,me={clear(){localStorage.removeItem(st),localStorage.removeItem(rt)},addCompletedStep(i){const s=H(localStorage.getItem(rt))?.slice()||[];s.includes(i)||(s.push(i),localStorage.setItem(rt,Be(s)))},addCurrentStep(i){localStorage.setItem(st,Be(i))},setSkipped(i){localStorage.setItem(ct,Be(i))},get(i){return H(localStorage.getItem(i))}};var we=e(50592),Ye=e(27858);const ze=i=>i;var Re=e(18172),Ve=e(96486);const Je={formErrors:{},modifiedData:{},requestError:null},Ne=(i,s)=>(0,Re.default)(i,n=>{switch(s.type){case"ON_CHANGE":{(0,Ve.set)(n.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Je;case"SET_DATA":{n.modifiedData=s.data;break}case"SET_ERRORS":{n.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{n.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return n}});var Lt=e(25108),it=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function _e(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),n.push.apply(n,r)}return n}function ht(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?_e(Object(n),!0).forEach(function(r){(0,pe.Z)(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var te=function(){return window&&window.strapi&&window.strapi.isEE?e(98837).Z:e(42243).Z}(),mt=function(s){var n=s.hasAdmin,r=s.setHasAdmin,d=(0,l.useHistory)(),h=d.push,R=d.location.search,M=(0,we.Z)(),le=M.changeLocale,se=(0,T.useGuidedTour)(),ae=se.setSkipped,b=(0,T.useTracking)(),Y=b.trackUsage,J=(0,l.useRouteMatch)("/auth/:authType"),D=J.params.authType,B=(0,T.useQuery)(),oe=he()(te,D,{}),Ze=oe.Component,Tt=oe.endPoint,Rt=oe.fieldsToDisable,gt=oe.fieldsToOmit,Bt=oe.inputsPrefix,wt=oe.schema,an=(0,We.Z)(oe,it),on=(0,t.useReducer)(Ne,Je,ze),vs=(0,G.Z)(on,2),Xt=vs[0],rn=Xt.formErrors,ln=Xt.modifiedData,un=Xt.requestError,xt=vs[1],dn=re.Z.CancelToken,At=dn.source();(0,t.useEffect)(function(){return function(){At.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){xt({type:"RESET_PROPS"})},[D]);var cn=function(ge){var _=ge.target,Ee=_.name,ne=_.value;xt({type:"ON_CHANGE",keys:Ee,value:ne})},mn=function(){var Ge=(0,Q.Z)(Te().mark(function ge(_,Ee){var ne,ve,Me,De;return Te().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(ne=Ee.setSubmitting,ve=Ee.setErrors,ne(!0),Me=ot()(_,gt),De="/admin/".concat(Tt),D!=="login"){ue.next=7;break}return ue.next=7,pn(_,De,{setSubmitting:ne,setErrors:ve});case 7:if(!(D==="register"||D==="register-admin")){ue.next=10;break}return ue.next=10,fn(_,De,{setSubmitting:ne,setErrors:ve});case 10:if(D!=="forgot-password"){ue.next=13;break}return ue.next=13,gn(Me,De,{setSubmitting:ne,setErrors:ve});case 13:if(D!=="reset-password"){ue.next=16;break}return ue.next=16,hn(Me,De,{setSubmitting:ne,setErrors:ve});case 16:case"end":return ue.stop()}},ge)}));return function(_,Ee){return Ge.apply(this,arguments)}}(),gn=function(){var Ge=(0,Q.Z)(Te().mark(function ge(_,Ee,ne){var ve,Me;return Te().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return ve=ne.setSubmitting,Me=ne.setErrors,q.prev=1,q.next=4,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ee),data:_,cancelToken:At.token});case 4:h("/auth/forgot-password-success"),q.next=11;break;case 7:q.prev=7,q.t0=q.catch(1),Lt.error(q.t0),Me({errorMessage:"notification.error"});case 11:return q.prev=11,ve(!1),q.finish(11);case 14:case"end":return q.stop()}},ge,null,[[1,7,11,14]])}));return function(_,Ee,ne){return Ge.apply(this,arguments)}}(),pn=function(){var Ge=(0,Q.Z)(Te().mark(function ge(_,Ee,ne){var ve,Me,De,q,ue,He,$e;return Te().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ve=ne.setSubmitting,Me=ne.setErrors,ie.prev=1,ie.next=4,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ee),data:ot()(_,gt),cancelToken:At.token});case 4:De=ie.sent,q=De.data.data,ue=q.token,He=q.user,He.preferedLanguage&&le(He.preferedLanguage),T.auth.setToken(ue,_.rememberMe),T.auth.setUserInfo(He,_.rememberMe),ys(),ie.next=23;break;case 14:if(ie.prev=14,ie.t0=ie.catch(1),!ie.t0.response){ie.next=23;break}if($e=he()(ie.t0,["response","data","error","message"],"Something went wrong"),at()($e).toLowerCase()!=="usernotactive"){ie.next=22;break}return h("/auth/oops"),xt({type:"RESET_PROPS"}),ie.abrupt("return");case 22:Me({errorMessage:$e});case 23:return ie.prev=23,ve(!1),ie.finish(23);case 26:case"end":return ie.stop()}},ge,null,[[1,14,23,26]])}));return function(_,Ee,ne){return Ge.apply(this,arguments)}}(),fn=function(){var Ge=(0,Q.Z)(Te().mark(function ge(_,Ee,ne){var ve,Me,De,q,ue,He,$e,pt,ie,fe;return Te().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return ve=ne.setSubmitting,Me=ne.setErrors,Ie.prev=1,Y("willCreateFirstAdmin"),Ie.next=5,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ee),data:ot()(_,gt),cancelToken:At.token});case 5:if(De=Ie.sent,q=De.data.data,ue=q.token,He=q.user,T.auth.setToken(ue,!1),T.auth.setUserInfo(He,!1),ve(!1),r(!0),$e=He.roles,$e&&(pt=$e.find(function(En){var vn=En.code;return vn==="strapi-super-admin"}),pt&&(me.setSkipped(!1),ae(!1),Y("didLaunchGuidedtour"))),!(D==="register"&&_.userInfo.news===!0||D==="register-admin"&&_.news===!0)){Ie.next=18;break}return h({pathname:"/usecase",search:"?hasAdmin=".concat(n)}),Ie.abrupt("return");case 18:ys(),Ie.next=25;break;case 21:Ie.prev=21,Ie.t0=Ie.catch(1),Y("didNotCreateFirstAdmin"),Ie.t0.response&&(ie=Ie.t0.response.data,fe=(0,Ye.Z)(ie),Me({apiErrors:fe}));case 25:case"end":return Ie.stop()}},ge,null,[[1,21]])}));return function(_,Ee,ne){return Ge.apply(this,arguments)}}(),hn=function(){var Ge=(0,Q.Z)(Te().mark(function ge(_,Ee,ne){var ve,Me,De,q,ue,He,$e,pt;return Te().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return ve=ne.setErrors,Me=ne.setSubmitting,fe.prev=1,fe.next=4,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ee),data:ht(ht({},_),{},{resetPasswordToken:B.get("code")}),cancelToken:At.token});case 4:De=fe.sent,q=De.data.data,ue=q.token,He=q.user,T.auth.setToken(ue,!1),T.auth.setUserInfo(He,!1),h("/"),fe.next=16;break;case 13:fe.prev=13,fe.t0=fe.catch(1),fe.t0.response&&($e=he()(fe.t0,["response","data","message"],"Something went wrong"),pt=he()(fe.t0,["response","data","statusCode"],400),xt({type:"SET_REQUEST_ERROR",errorMessage:$e,errorStatus:pt}),ve({errorMessage:$e}));case 16:return fe.prev=16,Me(!1),fe.finish(16);case 19:case"end":return fe.stop()}},ge,null,[[1,13,16,19]])}));return function(_,Ee,ne){return Ge.apply(this,arguments)}}(),ys=function(){if(D==="login"){var ge=B.get("redirectTo"),_=ge?decodeURIComponent(ge):"/";h(_)}else h("/")};return!te[D]||n&&D==="register-admin"||T.auth.getToken()?t.createElement(l.Redirect,{to:"/"}):!n&&D!=="register-admin"?t.createElement(l.Redirect,{to:{pathname:"/auth/register-admin",search:R}}):t.createElement(Ze,(0,ce.Z)({},an,{authType:D,fieldsToDisable:Rt,formErrors:rn,inputsPrefix:Bt,modifiedData:ln,onChange:cn,onSubmit:mn,requestError:un,schema:wt}))};mt.defaultProps={hasAdmin:!1},mt.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const Xe=mt;var be=e(23330),N=e(71893),Ae=e(80129),Fe=e(185),Ke=e(11047),lt=e(41580),Et=e(7681),vt=e(75515),St=e(91216),Mt=e(82562),Zt=e(16364),Qt=e(39785),Wt=e(29728),Nt=e(79690),Ft=e(36206);const Kt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Yt=(0,N.default)(vt.Z)`
  text-align: center;
`,Gt=()=>{const i=(0,T.useNotification)(),{push:s,location:n}=(0,l.useHistory)(),{formatMessage:r}=(0,Oe.useIntl)(),[d,h]=(0,t.useState)(),[R,M]=(0,t.useState)(""),{firstname:le,email:se}=T.auth.getUserInfo(),{hasAdmin:ae}=(0,Ae.parse)(n?.search,{ignoreQueryPrefix:!0}),b=d==="other",Y=J=>{try{(0,re.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:se,username:le,firstAdmin:Boolean(!ae),persona:{role:J?void 0:d,otherRole:J?void 0:R}}}),i({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return t.createElement(Ft.ZP,null,t.createElement(Fe.o,{labelledBy:"usecase-title"},t.createElement(Ft.bU,null,t.createElement("form",{onSubmit:()=>Y(!1)},t.createElement(Ke.k,{direction:"column",paddingBottom:7},t.createElement(Nt.Z,null),t.createElement(lt.x,{paddingTop:6,paddingBottom:1,width:(0,T.pxToRem)(250)},t.createElement(Yt,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Et.K,{spacing:6},t.createElement(St.P,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:h,value:d},Kt.map(({intlLabel:J,value:D})=>t.createElement(Mt.W,{key:D,value:D},r(J)))),b&&t.createElement(Zt.o,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:R,onChange:J=>M(J.target.value),"data-testid":"other"}),t.createElement(Wt.z,{type:"submit",size:"L",fullWidth:!0,disabled:!d},r({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(Ke.k,{justifyContent:"center"},t.createElement(lt.x,{paddingTop:4},t.createElement(Qt.A,{onClick:()=>Y(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var _t=e(66716);const qt=async()=>`web-fingerprint-${(await(await _t.ZP.load()).get()).visitorId}`;var Dt=e(42982);const Ht=[];var m=function(){return window&&window.strapi&&window.strapi.isEE?e(35499).Z:e(77981).Z}();const c=[].concat((0,Dt.Z)(m),(0,Dt.Z)(Ht));var u=e(48474);const C=(0,t.lazy)(()=>Promise.all([e.e(6914),e.e(801)]).then(e.bind(e,94369)));function k(){const i=(0,T.useNotification)(),{updateProjectSettings:s}=(0,u.um)(),{formatMessage:n}=(0,Oe.useIntl)(),[{isLoading:r,hasAdmin:d,uuid:h,deviceId:R},M]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),le=(0,T.useAppInfos)(),{get:se}=(0,T.useFetchClient)(),ae=(0,t.useMemo)(()=>(0,X.WW)(c.map(({to:B,Component:oe,exact:Ze})=>(0,X.ot)(oe,B,Ze))),[]),[b,Y]=(0,t.useState)(null);(0,t.useEffect)(()=>{const B=T.auth.getToken();B&&(async()=>{try{const{data:{token:Ze}}=await(0,T.request)("/admin/renew-token",{method:"POST",body:{token:B}});T.auth.updateToken(Ze)}catch{T.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:oe,uuid:Ze,menuLogo:Tt,authLogo:Rt}}}=await re.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,T.prefixFileUrlWithBackendUrl)(Tt),authLogo:(0,T.prefixFileUrlWithBackendUrl)(Rt)});const gt=await qt();if(Ze){const{data:{data:Bt}}=await se("/admin/telemetry-properties",{validateStatus:wt=>wt<500});Y(Bt);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:gt,eventPropeties:{},userProperties:{environment:le.currentEnvironment},groupProperties:{...Bt,projectId:Ze}}),headers:{"Content-Type":"application/json"}})}catch{}}M({isLoading:!1,hasAdmin:oe,uuid:Ze,deviceId:gt})}catch{i({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[i,s]);const J=B=>M(oe=>({...oe,hasAdmin:B})),D=(0,t.useMemo)(()=>({uuid:h,telemetryProperties:b,deviceId:R}),[h,b,R]);return r?t.createElement(T.LoadingIndicatorPage,null):t.createElement(t.Suspense,{fallback:t.createElement(T.LoadingIndicatorPage,null)},t.createElement(ke.z,null,n({id:"skipToContent"})),t.createElement(T.TrackingProvider,{value:D},t.createElement(l.Switch,null,ae,t.createElement(l.Route,{path:"/auth/:authType",render:B=>t.createElement(Xe,{...B,setHasAdmin:J,hasAdmin:d}),exact:!0}),t.createElement(K,{path:"/usecase",component:Gt}),t.createElement(K,{path:"/",component:C}),t.createElement(l.Route,{path:"",component:be.default}))))}const W=k;var $=e(61473),z=e(23724),Ce=e(37424),Ue=e(47713);const Le={menuLogo:null,authLogo:null},et=(i=Le,s)=>(0,Re.default)(i,n=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,s.values);break}default:return n}}),nt=({children:i,authLogo:s,menuLogo:n,showReleaseNotification:r,showTutorials:d})=>{const[{menuLogo:h,authLogo:R},M]=(0,t.useReducer)(et,Le),le=(0,t.useCallback)(({menuLogo:ae,authLogo:b})=>M({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:ae||n,authLogo:b||s}}),[s,n]),se=(0,t.useMemo)(()=>({logos:{menu:{custom:h,default:n},auth:{custom:R,default:s}},updateProjectSettings:le,showReleaseNotification:r,showTutorials:d}),[h,n,R,s,le,r,d]);return t.createElement(Ue._5.Provider,{value:se},i)};nt.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const yt=nt;var Ot=e(66913),bt=e.n(Ot),Pt=e(93343);const Qe=({changeLocale:i,children:s,localeNames:n,messages:r})=>t.createElement(Pt.Z.Provider,{value:{changeLocale:i,localeNames:n,messages:r}},s);Qe.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const Se=Qe,xe="strapi-admin-language",Rs=i=>{const s=window.localStorage.getItem(xe);return{locale:i[s]?s:"en",localeNames:i}},es={localeNames:{en:"English"},locale:"en"},As=(i=es,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:n}=s;return i.localeNames[n]?{...i,locale:n}:i}default:return i}},ts=({children:i,localeNames:s,messages:n})=>{const[{locale:r},d]=(0,t.useReducer)(As,es,()=>Rs(s));(0,t.useEffect)(()=>{window.localStorage.setItem(xe,r),document.documentElement.setAttribute("lang",r)},[r]);const h=M=>{d({type:"CHANGE_LOCALE",locale:M})},R=bt()(n[r],n.en);return t.createElement(Oe.IntlProvider,{locale:r,defaultLocale:"en",messages:R,textComponent:"span"},t.createElement(Se,{changeLocale:h,localeNames:s,messages:R},i))};ts.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Cs=ts,Ls=(i,s)=>{const n=Object.entries(s),r=n.findIndex(([h])=>h===i);return n.slice(0,r).every(([,h])=>Object.values(h).every(Boolean))},Ss=(i,s)=>{const n=i.split("."),r=n[1],d=Object.entries(s[n[0]]),h=d.findIndex(([M])=>M===r);return d.slice(0,h).every(([,M])=>M)},ss={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Ms=(i=ss,s)=>(0,Re.default)(i,n=>{switch(s.type){case"SET_CURRENT_STEP":{n.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,d]=s.currentStep.split(".");n.guidedTourState[r][d]=s.value;break}case"SET_SKIPPED":{n.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=s.value;break}default:return n}});var Ds=e(36968),$t=e.n(Ds);const Os=i=>{const s={...i},n=me.get(rt),r=me.get(st),d=me.get(ct);if(n&&n.forEach(h=>{const[R,M]=h.split(".");$t()(s,["guidedTourState",R,M],!0)}),r){const[h,R]=r.split(".");$t()(s,["guidedTourState",h,R],!0),me.addCompletedStep(r),me.addCurrentStep(null)}return d!==null&&$t()(s,"isSkipped",d),s},ns=({children:i})=>{const[{currentStep:s,guidedTourState:n,isGuidedTourVisible:r,isSkipped:d},h]=(0,t.useReducer)(Ms,ss,Os),R=b=>{if(b!==null){const Y=he()(n,b),J=Ss(b,n);if(Y||d||!J)return null}return me.addCurrentStep(b),h({type:"SET_CURRENT_STEP",step:b})},M=b=>{h({type:"SET_GUIDED_TOUR_VISIBILITY",value:b})},le=(b,Y)=>{me.addCompletedStep(b),h({type:"SET_STEP_STATE",currentStep:b,value:Y})},se=b=>{const Y=n[b];if(Y){const J=Ls(b,n),D=Object.keys(Y)[0],B=Y[D];if(J&&!s&&!B)return R(`${b}.${D}`)}return null},ae=b=>{me.setSkipped(b),h({type:"SET_SKIPPED",value:b})};return t.createElement(T.GuidedTourProvider,{guidedTourState:n,currentStep:s,setCurrentStep:R,setGuidedTourVisibility:M,setSkipped:ae,setStepState:le,startSection:se,isGuidedTourVisible:r,isSkipped:d},i)};ns.propTypes={children:a().element.isRequired};const bs=ns;var as=e(73935),Is=e(84517),ks=e(30815),os=e(36182);const Us=(0,N.default)(lt.x)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:i})=>i.colors.neutral0};
    opacity: 0.9;
  }
`,js=(0,N.default)(Et.K)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,T.pxToRem)(160)};
`,rs=(0,N.default)(lt.x)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:i})=>i.colors.primary600} !important;
    }
  }
`,kt=document.createElement("div"),Bs="autoReloadOverlayBlocker";kt.setAttribute("id",Bs);const ws=N.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,xs=(0,N.default)(ks.Z)`
  animation: ${ws} 1s infinite linear;
`,is=({displayedIcon:i,description:s,title:n,isOpen:r})=>{const{formatMessage:d}=(0,Oe.useIntl)();return(0,t.useEffect)(()=>(document.body.appendChild(kt),()=>{document.body.removeChild(kt)}),[]),r?as.createPortal(t.createElement(Us,null,t.createElement(js,{spacing:6},t.createElement(Et.K,{spacing:2},t.createElement(Ke.k,{justifyContent:"center"},t.createElement(vt.Z,{as:"h1",variant:"alpha"},d(n))),t.createElement(Ke.k,{justifyContent:"center"},t.createElement(vt.Z,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},d(s)))),t.createElement(Ke.k,{justifyContent:"center"},i==="reload"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(xs,{width:(0,T.pxToRem)(36),height:(0,T.pxToRem)(36)})),i==="time"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(Is.Z,{width:(0,T.pxToRem)(40),height:(0,T.pxToRem)(40)}))),t.createElement(Ke.k,{justifyContent:"center"},t.createElement(lt.x,{paddingTop:2},t.createElement(os.r,{href:"https://docs.strapi.io",isExternal:!0},d({id:"global.documentation",defaultMessage:"Read the documentation"})))))),kt):null};is.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Zs=is,ls=30,us=({children:i})=>{const[s,n]=(0,t.useState)(!1),[{elapsed:r},d]=(0,t.useState)({elapsed:0,start:0}),[h,R]=(0,t.useState)(void 0),M=(B=void 0)=>{n(!0),R(B),d(oe=>({...oe,start:Date.now()}))},le=()=>{n(!1),d({start:0,elapsed:0}),R(void 0)},se=(0,t.useRef)(M),ae=(0,t.useRef)(le);(0,t.useEffect)(()=>{let B=null;return s?B=setInterval(()=>r>ls?(clearInterval(B),null):(d(oe=>({...oe,elapsed:Math.round(Date.now()-oe.start)/1e3})),null),1e3):clearInterval(B),()=>{clearInterval(B)}},[s,r]);let b=h?.icon||"reload",Y={id:h?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},J={id:h?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>ls&&(b="time",Y={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},J={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const D=(0,t.useMemo)(()=>({lockApp:se.current,unlockApp:ae.current}),[se,ae]);return t.createElement(T.AutoReloadOverlayBockerContext.Provider,{value:D},t.createElement(Zs,{displayedIcon:b,isOpen:s,description:Y,title:J}),i)};us.propTypes={children:a().element.isRequired};const Ws=us;var Ns=e(18986);const zt=({dispatch:i,notification:s})=>{const{formatMessage:n}=(0,Oe.useIntl)(),{message:r,link:d,type:h,id:R,onClose:M,timeout:le,blockTransition:se,title:ae}=s,b=B=>typeof B=="string"?B:n(B,B.values),Y=(0,t.useCallback)(()=>{M&&M(),i({type:"HIDE_NOTIFICATION",id:R})},[R]);(0,t.useEffect)(()=>{let B;return se||(B=setTimeout(()=>{Y()},le||2500)),()=>clearTimeout(B)},[se,Y,le]);let J,D;return h==="info"?(J="default",D=n({id:"notification.default.title",defaultMessage:"Information:"})):h==="warning"?(J="danger",D=n({id:"notification.warning.title",defaultMessage:"Warning:"})):h==="softWarning"?(J="warning",D=n({id:"notification.warning.title",defaultMessage:"Warning:"})):(J="success",D=n({id:"notification.success.title",defaultMessage:"Success:"})),ae&&(D=typeof ae=="string"?ae:n(ae)),t.createElement(Ns.b,{action:d?t.createElement(os.r,{href:d.url,isExternal:!0},n({id:d.label?.id||d.label,defaultMessage:d.label?.defaultMessage||d.label?.id||d.label})):void 0,onClose:Y,closeLabel:"Close",title:D,variant:J},b({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};zt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},zt.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Fs=zt,ds={notifId:0,notifications:[]},Ks=(i=ds,s)=>(0,Re.default)(i,n=>{switch(s.type){case"SHOW_NOTIFICATION":{n.notifications.push({id:i.notifId,type:he()(s,["config","type"],"success"),message:he()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:he()(s,["config","link"],null),timeout:he()(s,["config","timeout"],2500),blockTransition:he()(s,["config","blockTransition"],!1),onClose:he()(s,["config","onClose"],null),title:he()(s,["config","title"],null)}),n.notifId=i.notifId+1;break}case"HIDE_NOTIFICATION":{const r=i.notifications.findIndex(d=>d.id===s.id);r!==-1&&n.notifications.splice(r,1);break}default:return n}}),cs=({children:i})=>{const[{notifications:s},n]=(0,t.useReducer)(Ks,ds),r=d=>{n({type:"SHOW_NOTIFICATION",config:d})};return t.createElement(T.NotificationsProvider,{toggleNotification:r},t.createElement(Et.K,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(d=>t.createElement(Fs,{key:d.id,dispatch:n,notification:d}))),i)};cs.propTypes={children:a().element.isRequired};const Gs=cs,Ut=document.createElement("div");Ut.setAttribute("id","overlayBlocker");const Hs=N.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ms=({isOpen:i})=>((0,t.useEffect)(()=>(document.body.appendChild(Ut),()=>{document.body.removeChild(Ut)}),[]),i?as.createPortal(t.createElement(Hs,null),Ut):null);ms.propTypes={isOpen:a().bool.isRequired};const gs=({children:i})=>{const[s,n]=(0,t.useState)(!1),r=()=>{n(!0)},d=()=>{n(!1)};return t.createElement(T.OverlayBlockerContext.Provider,{value:{lockApp:r,unlockApp:d}},i,t.createElement(ms,{isOpen:s}))};gs.propTypes={children:a().node.isRequired};const $s=gs,Vt="STRAPI_THEME",zs=()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Vt);return s||localStorage.setItem(Vt,i),s||i},ps=({children:i,themes:s})=>{const[n,r]=(0,t.useState)(zs()),d=(0,t.useCallback)(R=>{r(R),localStorage.setItem(Vt,R)},[r]),h=(0,t.useMemo)(()=>({currentTheme:n,onChangeTheme:d,themes:s}),[n,d,s]);return t.createElement(Ue.Rj.Provider,{value:h},i)};ps.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const Vs=ps;var Xs=e(33976);const Qs=N.createGlobalStyle`
  body {
    background: ${({theme:i})=>i.colors.neutral100};
  }
`,fs=({children:i})=>{const{currentTheme:s,themes:n}=(0,u.M1)();return t.createElement(Xs.f,{theme:n[s]||n.light},i,t.createElement(Qs,null))};fs.propTypes={children:a().element.isRequired};const Ys=fs,Js=new z.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),hs=({authLogo:i,children:s,components:n,customFields:r,fields:d,getAdminInjectedComponents:h,getPlugin:R,localeNames:M,menu:le,menuLogo:se,messages:ae,plugins:b,runHookParallel:Y,runHookSeries:J,runHookWaterfall:D,settings:B,showReleaseNotification:oe,showTutorials:Ze,store:Tt,themes:Rt})=>t.createElement(Vs,{themes:Rt},t.createElement(Ys,null,t.createElement(z.QueryClientProvider,{client:Js},t.createElement(Ce.Provider,{store:Tt},t.createElement(Ue.ux.Provider,{value:{getAdminInjectedComponents:h}},t.createElement(yt,{authLogo:i,menuLogo:se,showReleaseNotification:oe,showTutorials:Ze},t.createElement(T.StrapiAppProvider,{getPlugin:R,menu:le,plugins:b,runHookParallel:Y,runHookWaterfall:D,runHookSeries:J,settings:B},t.createElement(T.LibraryProvider,{components:n,fields:d},t.createElement(T.CustomFieldsProvider,{customFields:r},t.createElement(Cs,{messages:ae,localeNames:M},t.createElement(Ws,null,t.createElement($s,null,t.createElement(bs,null,t.createElement(Gs,null,s))))))))))))));hs.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const _s=hs,qs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var jt=e(80660);const en={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";var Es=e(25108);class sn{constructor({adminConfig:s,appPlugins:n,library:r,middlewares:d,reducers:h}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:$,head:{favicon:tn},locales:["en"],menuLogo:$,notifications:{releases:!0},themes:{light:o.W,dark:E.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=r,this.middlewares=d,this.plugins={},this.reducers=h,this.translations={},this.hooksDict={},this.admin={injectionZones:en},this.customFields=je.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(n=>this.library.components.add(n)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const n=JSON.stringify(s);v()(s.to,`link.to should be defined for ${n}`),v()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),v()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(n=>this.library.fields.add(n)):this.library.fields.add(s)};addMenuLink=s=>{const n=JSON.stringify(s);v()(s.to,`link.to should be defined for ${n}`),v()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),v()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),v()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(n=>{this.middlewares.add(n)})};addReducers=s=>{Object.keys(s).forEach(n=>{this.reducers.add(n,s[n])})};addSettingsLink=(s,n)=>{v()(this.settings[s],"The section does not exist");const r=JSON.stringify(n);v()(n.id,`link.id should be defined for ${r}`),v()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),v()(n.to,`link.to should be defined for ${r}`),v()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(n)};addSettingsLinks=(s,n)=>{v()(this.settings[s],"The section does not exist"),v()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const n=this.appPlugins[s].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),ee()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(jt.No),this.createHook(jt.LK),this.createHook(jt.dV),this.createHook(jt.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!s&&!n&&(Es.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),g()(this.configurations.themes.light,this.customConfigurations.theme)),n&&g()(this.configurations.themes.light,n),s&&g()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=j()};createSettingSection=(s,n)=>{v()(s.id,"section.id should be defined"),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),v()(Array.isArray(n),"TypeError expected links to be an array"),v()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},n.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>F(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,n,r)=>{try{return this.admin.injectionZones[s][n][r]||[]}catch(d){return Es.error("Cannot get injected component",d),d}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,n,r)=>{v()(this.admin.injectionZones.contentManager[s]?.[n],`The ${s} ${n} zone is not defined in the content manager`),v()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][n].push(r)};injectAdminComponent=(s,n,r)=>{v()(this.admin.injectionZones.admin[s]?.[n],`The ${s} ${n} zone is not defined in the admin`),v()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][n].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(d=>e(95423)(`./${d}.json`).then(({default:h})=>({data:h,locale:d})).catch(()=>({data:null,locale:d})));return(await Promise.all(s)).reduce((d,h)=>(h.data&&(d[h.locale]=h.data),d),{})}async loadTrads(){const s=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(R=>{const M=this.appPlugins[R].registerTrads;return M?M({locales:this.configurations.locales}):null}).filter(R=>R),d=(await Promise.all(n)).reduce((R,M)=>{const le=M.reduce((se,ae)=>(se[ae.locale]=ae.data,se),{});return Object.keys(le).forEach(se=>{R[se]={...R[se],...le[se]}}),R},{}),h=this.configurations.locales.reduce((R,M)=>(R[M]={...s[M],...d[M]||{},...this.customConfigurations?.translations?.[M]},R),{});return this.configurations.translations=h,Promise.resolve()}registerHook=(s,n)=>{v()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(n)};registerPlugin=s=>{const n=(0,je.Sy)(s);this.plugins[n.pluginId]=n};runHookSeries=(s,n=!1)=>n?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,n,r=!1,d)=>r?this.hooksDict[s].runWaterfallAsync(n,d):this.hooksDict[s].runWaterfall(n,d);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),n=O()(qs,this.configurations.locales||[]),{components:{components:r},fields:{fields:d}}=this.library;return t.createElement(_s,{authLogo:this.configurations.authLogo,components:r,fields:d,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(h,R,M=!1)=>this.runHookWaterfall(h,R,M,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},t.createElement(t.Fragment,null,t.createElement(A.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(xe)||"en"}}),t.createElement(l.BrowserRouter,{basename:Z.Z},t.createElement(W,{store:s}))))}}const nn=({adminConfig:i={},appPlugins:s,library:n,middlewares:r,reducers:d})=>new sn({adminConfig:i,appPlugins:s,library:n,middlewares:r,reducers:d})},93343:(I,f,e)=>{"use strict";e.d(f,{Z:()=>o});var t=e(67294);const o=(0,t.createContext)()},50592:(I,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(67294),l=e(93343);const E=()=>{const{changeLocale:p,localeNames:g,messages:y}=(0,t.useContext)(l.Z);return{changeLocale:p,localeNames:g,messages:y}}},79690:(I,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(67294),l=e(71893),o=e(48474);const E=l.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:y}}=(0,o.um)();return t.createElement(E,{src:y?.custom??y.default,"aria-hidden":!0,alt:""})}},47713:(I,f,e)=>{"use strict";e.d(f,{ux:()=>o,_5:()=>p,$l:()=>y,Rj:()=>w});var t=e(67294);const o=(0,t.createContext)({}),p=(0,t.createContext)({}),y=(0,t.createContext)({}),w=(0,t.createContext)({})},63871:(I,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l="/admin/".replace(window.location.origin,"")},80660:(I,f,e)=>{"use strict";e.d(f,{Eo:()=>o,LK:()=>l,No:()=>t,dV:()=>E});const t="Admin/CM/pages/ListView/inject-column-in-table",l="Admin/CM/pages/App/mutate-collection-types-links",o="Admin/CM/pages/EditView/mutate-edit-view-layout",E="Admin/CM/pages/App/mutate-single-types-links"},48474:(I,f,e)=>{"use strict";e.d(f,{um:()=>E,U_:()=>j,Dq:()=>T,H9:()=>at,bP:()=>U,$_:()=>Jt,rW:()=>Ht,bF:()=>Be,G4:()=>Kt,Te:()=>vt,M1:()=>Dt});var t=e(67294),l=e(47713);const E=()=>(0,t.useContext)(l._5);var p=e(68547),g=e(18172);const y={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},w=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_MODELS":{u.collectionTypes=y.collectionTypes,u.singleTypes=y.singleTypes,u.components=y.components,u.isLoading=!0;break}case"GET_MODELS_ERROR":{u.collectionTypes=y.collectionTypes,u.singleTypes=y.singleTypes,u.components=y.components,u.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const C=k=>c.contentTypes.filter(W=>W.isDisplayed&&W.kind===k);u.isLoading=!1,u.collectionTypes=C("collectionType"),u.singleTypes=C("singleType"),u.components=c.components;break}default:return u}}),U=()=>{const m=(0,p.useNotification)(),[c,u]=(0,t.useReducer)(w,y);(0,t.useEffect)(()=>{C()},[]);const C=async()=>{u({type:"GET_MODELS"});try{const[{data:k},{data:W}]=await Promise.all(["components","content-types"].map($=>(0,p.request)(`/content-manager/${$}`,{method:"GET"})));u({type:"GET_MODELS_SUCCEDED",contentTypes:W,components:k})}catch{u({type:"GET_MODELS_ERROR"}),m({type:"warning",message:{id:"notification.error"}})}};return{...c,getData:C}},v={data:{},error:null,isLoading:!0},Z=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=c.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=c.error;break}default:return u}}),j=m=>{const[{data:c,error:u,isLoading:C},k]=(0,t.useReducer)(Z,v);return(0,t.useEffect)(()=>{(async()=>{k({type:"GET_DATA"});const{data:$}=await(0,p.request)("/admin/permissions",{method:"GET",params:{role:m}});k({type:"GET_DATA_SUCCEEDED",data:$})})()},[m]),{data:c,error:u,isLoading:C}},P={role:{},permissions:{},isLoading:!0},de=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA_SUCCEEDED":{u.role=c.role,u.permissions=c.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=c.name,u.role.description=c.description;break}default:return u}});var F=e(25108);const T=m=>{const c=(0,p.useNotification)(),[u,C]=(0,t.useReducer)(de,P);(0,t.useEffect)(()=>{m?k(m):C({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[m]);const k=async $=>{try{const[{data:z},{data:Ce}]=await Promise.all([`roles/${$}`,`roles/${$}/permissions`].map(Ue=>(0,p.request)(`/admin/${Ue}`,{method:"GET"})));C({type:"GET_DATA_SUCCEEDED",role:z,permissions:Ce})}catch(z){F.error(z),C({type:"GET_DATA_ERROR"}),c({type:"warning",message:{id:"notification.error"}})}},W=(0,t.useCallback)($=>{C({type:"ON_SUBMIT_SUCCEEDED",...$})},[]);return{...u,onSubmitSucceeded:W}},ke=(m,c)=>c.map(({permissions:u})=>(0,p.hasPermissions)(m,u)),ye=async(m,c)=>{const u=ke(m,c),C=await Promise.all(u);return c.filter((W,$)=>C[$])};var a=e(50361),S=e.n(a);const X=async(m,c,u)=>{const C=ke(m,c),k=await Promise.all(C),W=c.filter((Ce,Ue)=>k[Ue]),$=W.findIndex(Ce=>Ce.to==="/settings");if($===-1)return[];const z=S()(W);return z[$].notificationsCount=u?1:0,z};var ce=e(78114),pe=e(41916),Q=e(48077),G=e(87751);const We={generalSectionLinks:[{icon:pe.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:G.Z.marketplace.main},{icon:Q.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:G.Z.marketplace.main},{icon:ce.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},Te=(m=We,c)=>(0,g.default)(m,u=>{switch(c.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:C,authorizedPluginSectionLinks:k}=c.data;u.generalSectionLinks=C,u.pluginsSectionLinks=k;break}case"UNSET_IS_LOADING":{u.isLoading=!1;break}default:return u}}),at=()=>{const[m,c]=(0,t.useReducer)(Te,We),{allPermissions:u}=(0,p.useRBACProvider)(),{shouldUpdateStrapi:C}=(0,p.useAppInfos)(),{menu:k}=(0,p.useStrapiApp)(),W=(0,t.useRef)(m.generalSectionLinks),$=(0,t.useRef)(C),z=async(Ue=u)=>{const qe=await ye(Ue,k),et=await X(Ue,W.current,$.current);c({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:et,authorizedPluginSectionLinks:qe}}),c({type:"UNSET_IS_LOADING"})},Ce=(0,t.useRef)(z);return(0,t.useEffect)(()=>{Ce.current(u)},[u,c]),m};var ut=e(27361),he=e.n(ut);const ot=(m,c)=>({...m,isLoading:c}),st={roles:[],isLoading:!0},ct=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=c.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),Be=(m=!0)=>{const c=(0,p.useNotification)(),[{roles:u,isLoading:C},k]=(0,t.useReducer)(ct,st,()=>ot(st,m));(0,t.useEffect)(()=>{m&&W()},[m]);const W=(0,t.useCallback)(async()=>{const $=(0,p.getFetchClient)();try{k({type:"GET_DATA"});const{data:{data:z}}=await $.get("/admin/roles");k({type:"GET_DATA_SUCCEEDED",data:z})}catch(z){const Ce=he()(z,["response","payload","message"],"An error occured");k({type:"GET_DATA_ERROR"}),Ce!=="Forbidden"&&c({type:"warning",message:Ce})}},[c]);return{roles:u,isLoading:C,getData:W}};var x=e(96486);const me={menu:[],isLoading:!0},Ye=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"CHECK_PERMISSIONS_SUCCEEDED":{c.data.forEach(C=>{C.hasPermission&&(0,x.set)(u,["menu",...C.path.split("."),"isDisplayed"],C.hasPermission)}),u.menu.forEach((C,k)=>{u.menu[k].links=C.links.filter(W=>W.isDisplayed===!0)}),u.isLoading=!1;break}default:return u}});var Pe=e(57557),ze=e.n(Pe),Re=e(89734),Ve=e.n(Re);const Ne=m=>Ve()(m,c=>c.id),it=m=>m.map(c=>{const u=c.links.map(C=>({...C,isDisplayed:!1}));return{...c,links:u}});var _e=e(42982);const te=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:G.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:G.Z.settings.users.main}];var mt=function(){return window&&window.strapi&&window.strapi.isEE?e(95662).Z:e(40928).Z}();const Xe=[].concat((0,_e.Z)(mt),(0,_e.Z)(te)),N=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:G.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:G.Z.settings["api-tokens"].main}];var Ae=function(){return window&&window.strapi&&window.strapi.isEE?e(8353).Z:e(88506).Z}();const Fe=[].concat((0,_e.Z)(N),(0,_e.Z)(Ae)),lt=(m,{settings:c,shouldUpdateStrapi:u})=>{const C=c.global.links,k=Ne([...C,...Fe]).map(z=>({...z,hasNotification:z.id==="000-application-infos"&&u})),W=Object.values(ze()(c,"global")),$=[{...c.global,links:k},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Xe},...W];return{...m,menu:it($)}},vt=(m=!1)=>{const{allPermissions:c}=(0,p.useRBACProvider)(),{shouldUpdateStrapi:u}=(0,p.useAppInfos)(),{settings:C}=(0,p.useStrapiApp)(),[{isLoading:k,menu:W},$]=(0,t.useReducer)(Ye,me,()=>lt(me,{settings:C,shouldUpdateStrapi:u}));return(0,t.useEffect)(()=>{m||(async()=>{const Ce=async(et,nt)=>({hasPermission:await(0,p.hasPermissions)(c,et),path:nt}),Le=(et=>et.reduce((nt,yt,Ot)=>{const bt=Pt=>Pt.map((Qe,Se)=>Ce(Pt[Se].permissions,`${Ot}.links.${Se}`));return[...nt,...bt(yt.links)]},[]))(W),qe=await Promise.all(Le);$({type:"CHECK_PERMISSIONS_SUCCEEDED",data:qe})})()},[c,m]),{isLoading:k,menu:W}};var St=e(38683);const Mt={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Zt=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=(0,x.pick)(c.data,m.fieldsToPick),u.modifiedData=(0,x.pick)(c.data,m.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=m.initialData,u.formErrors={};break}case"ON_CHANGE":{c.inputType==="password"&&!c.value?(0,x.unset)(u.modifiedData,c.keys.split(".")):c.keys.includes("username")&&!c.value?(0,x.set)(u.modifiedData,c.keys.split("."),null):(0,x.set)(u.modifiedData,c.keys.split("."),c.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=(0,x.pick)(c.data,m.fieldsToPick),u.modifiedData=(0,x.pick)(c.data,m.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=c.errors,u.showHeaderButtonLoader=!1;break}default:return u}}),Wt=(m,c)=>({...m,fieldsToPick:c});var Nt=e(25108);const Kt=(m,c,u,C)=>{const[{formErrors:k,initialData:W,isLoading:$,modifiedData:z,showHeaderButtonLoader:Ce,showHeaderLoader:Ue},Le]=(0,t.useReducer)(Zt,Mt,()=>Wt(Mt,C)),qe=(0,p.useNotification)(),{lockApp:et,unlockApp:nt}=(0,p.useOverlayBlocker)();return(0,t.useEffect)(()=>{m&&(async()=>{try{const{data:Se}=await(0,p.request)(m,{method:"GET"});Le({type:"GET_DATA_SUCCEEDED",data:Se,fieldsToPick:C})}catch(Se){Nt.error(Se.response),qe({type:"warning",message:{id:"notification.error"}})}})()},[m]),[{formErrors:k,initialData:W,isLoading:$,modifiedData:z,showHeaderButtonLoader:Ce,showHeaderLoader:Ue},Le,{handleCancel:()=>{Le({type:"ON_CANCEL"})},handleChange:({target:{name:Qe,value:Se,type:tt}})=>{Le({type:"ON_CHANGE",inputType:tt,keys:Qe,value:Se})},handleSubmit:async Qe=>{Qe.preventDefault();const Se=await(0,St.R6)(z,c);if(Le({type:"SET_ERRORS",errors:Se||{}}),!Se)try{et(),Le({type:"ON_SUBMIT"});const tt=(0,x.omit)(z,["confirmPassword","registrationToken"]);tt.roles&&(tt.roles=tt.roles.map(It=>It.id));const{data:xe}=await(0,p.request)(m,{method:"PUT",body:tt});u(xe),Le({type:"ON_SUBMIT_SUCCEEDED",data:xe}),qe({type:"success",message:{id:"notification.success.saved"}})}catch(tt){const xe=(0,x.get)(tt,"response.payload",{data:{}});(0,x.has)(xe,"data")&&typeof xe.data=="string"?qe({type:"warning",message:xe.data}):qe({type:"warning",message:xe.message});const It=(0,St.Iz)(xe);Le({type:"SET_ERRORS",errors:It})}finally{nt()}},setField:(Qe,Se)=>{Le({type:"ON_CHANGE",keys:Qe,value:Se})}}]},Jt=()=>(0,t.useContext)(l.$l),Gt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),_t=()=>{const{latestStrapiReleaseTag:m,shouldUpdateStrapi:c}=useAppInfos(),u=useNotification();return useEffect(()=>{c&&Gt&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${m}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[m,c,u]),null},Ps=null,Dt=()=>(0,t.useContext)(l.Rj),Ht=(m,c)=>{const[u,C]=(0,t.useState)(!1),k=(0,p.useNotification)(),{post:W}=(0,p.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:z}}}=await W(`/admin/api-tokens/${m}/regenerate`);C(!1),c(z)}catch(z){C(!1),k({type:"warning",message:(0,x.get)(z,"response.data.message","notification.error")})}},isLoadingConfirmation:u}}},40928:(I,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t=[]},88506:(I,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t=[]},36206:(I,f,e)=>{"use strict";e.d(f,{sg:()=>A,bU:()=>Z,ZP:()=>j});var t=e(67294),l=e(71893),o=e(45697),E=e.n(o),p=e(41580),g=e(11047),y=e(97132),O=e(17205),w=e(50592);const U=()=>{const{changeLocale:P,localeNames:V}=(0,w.Z)(),{locale:de}=(0,y.useIntl)();return t.createElement(O.O,{label:V[de]},Object.keys(V).map(F=>t.createElement(O.s,{onClick:()=>P(F),key:F},V[F])))},v=(0,l.default)(p.x)`
  margin: 0 auto;
  width: 552px;
`,A=(0,l.default)(g.k)`
  flex-direction: column;
`,Z=({children:P})=>t.createElement(v,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},P);Z.propTypes={children:E().node.isRequired};const L=({children:P})=>t.createElement("div",null,t.createElement(g.k,{as:"header",justifyContent:"flex-end"},t.createElement(p.x,{paddingTop:6,paddingRight:8},t.createElement(U,null))),t.createElement(p.x,{paddingTop:2,paddingBottom:11},P));L.propTypes={children:E().node.isRequired};const j=L},77981:(I,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l=[]},68070:(I,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(71893),l=e(25752);const E=(0,t.default)(l.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:p})=>p.colors.neutral600};
    }
  }
`},29773:(I,f,e)=>{"use strict";e.d(f,{Z:()=>ke});var t=e(67294),l=e(68547),o=e.n(l),E=e(94123),p=e(8934),g=e(41580),y=e(7681),O=e(185),w=e(11047),ee=e(29728),U=e(16364),v=e(36213),A=e(75515),Z=e(45697),L=e.n(Z),j=e(97132),P=e(71893),V=e(80831),de=e(36206),F=e(79690),je=e(68070);const T=(0,P.default)(U.o)`
  ::-ms-reveal {
    display: none;
  }
`,re=({onSubmit:Oe,schema:ye,children:a})=>{const[S,K]=(0,t.useState)(!1),{formatMessage:X}=(0,j.useIntl)();return t.createElement(O.o,null,t.createElement(de.bU,null,t.createElement(V.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:Oe,validationSchema:ye,validateOnChange:!1},({values:ce,errors:pe,handleChange:Q})=>t.createElement(l.Form,{noValidate:!0},t.createElement(de.sg,null,t.createElement(F.Z,null),t.createElement(g.x,{paddingTop:6,paddingBottom:1},t.createElement(A.Z,{variant:"alpha",as:"h1"},X({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(g.x,{paddingBottom:7},t.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},X({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),pe.errorMessage&&t.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},pe.errorMessage)),t.createElement(y.K,{spacing:6},t.createElement(U.o,{error:pe.email?X({id:pe.email,defaultMessage:"This value is required."}):"",value:ce.email,onChange:Q,label:X({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:X({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(T,{error:pe.password?X({id:pe.password,defaultMessage:"This value is required."}):"",onChange:Q,value:ce.password,label:X({id:"global.password",defaultMessage:"Password"}),name:"password",type:S?"text":"password",endAction:t.createElement(je.Z,{onClick:G=>{G.stopPropagation(),K(We=>!We)},label:X(S?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},S?t.createElement(p.default,null):t.createElement(E.default,null)),required:!0}),t.createElement(v.X,{onValueChange:G=>{Q({target:{value:G,name:"rememberMe"}})},value:ce.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},X({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(ee.z,{fullWidth:!0,type:"submit"},X({id:"Auth.form.button.login",defaultMessage:"Login"}))))),a),t.createElement(w.k,{justifyContent:"center"},t.createElement(g.x,{paddingTop:4},t.createElement(l.Link,{to:"/auth/forgot-password"},X({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};re.defaultProps={children:null,onSubmit(){}},re.propTypes={children:L().node,onSubmit:L().func,schema:L().shape({type:L().string.isRequired}).isRequired};const ke=re},73347:(I,f,e)=>{"use strict";e.d(f,{Z:()=>y});var t=e(67294),l=e(45697),o=e.n(l),E=e(29773),p=e(36206);const g=O=>t.createElement(p.ZP,null,t.createElement(E.Z,{...O}));g.defaultProps={onSubmit:O=>O.preventDefault()},g.propTypes={onSubmit:o().func};const y=g},23330:(I,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>v});var t=e(67294),l=e(68547),o=e.n(l),E=e(185),p=e(67838),g=e(49066),y=e(89722),O=e(20550),w=e(37323),ee=e(97132);const v=()=>{const{formatMessage:A}=(0,ee.useIntl)();return(0,l.useFocusWhenNavigate)(),t.createElement(E.o,{labelledBy:"title"},t.createElement(p.T,{id:"title",title:A({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(g.D,null,t.createElement(y.x,{action:t.createElement(l.LinkButton,{variant:"secondary",endIcon:t.createElement(w.Z,null),to:"/"},A({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:A({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(O.default,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(I,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={}},27858:(I,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l=({data:o})=>{try{return Object.keys(o).reduce((E,p)=>{const g=o[p][0];return E[p]={id:g,defaultMessage:g},E},{})}catch{return{}}}},38683:(I,f,e)=>{"use strict";e.d(f,{R6:()=>o,ot:()=>U,Iz:()=>v.Z,Pp:()=>ke,IF:()=>re,Qy:()=>ye,WW:()=>P});var t=e(68547);const o=async(a,S)=>{let K=null;try{await S.validate(a,{abortEarly:!1})}catch(X){K=(0,t.getYupInnerErrors)(X)}return K};var E=e(67294),p=e(45697),g=e.n(p),y=e(49656),O=e(25108);const w=({loadComponent:a})=>{const[S,K]=(0,E.useState)(null);return(0,E.useEffect)(()=>{(async()=>{try{const ce=await a();K(()=>ce.default)}catch(ce){O.log(ce)}})()},[a]),S?E.createElement(S,null):E.createElement(t.LoadingIndicatorPage,null)},ee=(a,S,K)=>E.createElement(y.Route,{render:()=>E.createElement(w,{loadComponent:a}),key:S,path:S,exact:K||!1});w.propTypes={loadComponent:g().func.isRequired};const U=ee;var v=e(27858),A=e(96486);const Z=a=>{const S=get(a,["options","timestamps"]);let K=Array.isArray(S)?S:[];const ce=[...["id","_id"],...K,"publishedAt"],pe=get(a,["attributes"],{});return Object.keys(pe).reduce((Q,G)=>(ce.includes(G)||Q.push({...pe[G],attributeName:G}),Q),[])},L=null,P=a=>a.filter((S,K,X)=>X.findIndex(ce=>ce.key===S.key)===K),V=a=>sortBy(a,S=>S.name),de=null,F=a=>Array.from(new Set(Object.entries(a).reduce((S,K)=>{const X=ce=>ce.reduce((pe,Q)=>{let G=pe;return Q.actions&&(G=[...G,...Q.actions]),typeof Q=="object"&&!Q.actions&&(G=[...G,...Object.keys(Q)]),G},[]);return[...S,...X([...Object.values(K[1].attributes||{}),get(K[1],"contentTypeActions",{})])]},[]))),je=null,re=a=>`/admin/${a}`,ke=(a,S="")=>[a,S].filter(K=>K).join(" "),Oe={bufferToHex(a){return[...new Uint8Array(a)].map(S=>S.toString(16).padStart(2,"0")).join("")},async digestMessage(a){const S=new TextEncoder().encode(a),K=await crypto.subtle.digest("SHA-256",S);return this.bufferToHex(K)}};async function ye(a){if(!a)return null;try{return await Oe.digestMessage(a.email)}catch{return null}}},90594:(I,f,e)=>{"use strict";e.d(f,{p:()=>ee});var t=e(67294),l=e(68547),o=e(38683),E=e(18172);const p={data:[],isLoading:!0},y=(U,v)=>(0,E.default)(U,A=>{switch(v.type){case"GET_DATA_SUCCEEDED":{A.data=v.data,A.isLoading=!1;break}case"GET_DATA_ERROR":{A.isLoading=!1;break}default:return A}});var O=e(25108);const ee=({ssoEnabled:U})=>{const[v,A]=(0,t.useReducer)(y,p),Z=(0,l.useNotification)();(0,t.useEffect)(()=>{L()},[]);const L=async()=>{try{if(!U){A({type:"GET_DATA_SUCCEEDED",data:[]});return}const j=(0,o.IF)("providers"),P=await(0,l.request)(j,{method:"GET"});A({type:"GET_DATA_SUCCEEDED",data:P})}catch(j){O.error(j),A({type:"GET_DATA_ERROR"}),Z({type:"warning",message:{id:"notification.error"}})}};return v}},95662:(I,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(87751);const E=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:t.Z.settings.auditLogs.main}]:[]]},8353:(I,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(87751);const E=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}]:[]]},35499:(I,f,e)=>{"use strict";e.d(f,{Z:()=>U});var t=e(67294),l=e(49656),o=e(97132),E=e(36808),p=e.n(E),g=e(68547),y=e(38683);const w=()=>{const{params:{authResponse:v}}=(0,l.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:A}=(0,o.useIntl)(),{push:Z}=(0,l.useHistory)(),L=(0,t.useRef)(A);let j=(0,t.useCallback)(()=>{Z(`/auth/oops?info=${encodeURIComponent(L.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[Z]);const P=(0,t.useCallback)(async()=>{try{const V=p().get("jwtToken");if(g.auth.clearAppStorage(),V){g.auth.setToken(V,!0);const de=(0,y.IF)("users/me"),{data:F}=await(0,g.request)(de,{method:"GET"});g.auth.setUserInfo(F,!0),p().remove("jwtToken"),Z("/auth/login")}}catch{j()}},[Z,j]);return(0,t.useEffect)(()=>{v==="error"&&j(),v==="success"&&P()},[v,P,j]),t.createElement(g.LoadingIndicatorPage,null)},U=[{Component:()=>({default:w}),to:"/auth/login/:authResponse",exact:!0}]},9442:(I,f,e)=>{"use strict";e.d(f,{Z:()=>P});var t=e(67294),l=e(45697),o=e.n(l),E=e(71893),p=e(41580),g=e(11047),y=e(70004),O=e(7681),w=e(75515),ee=e(97132),U=e(29773),v=e(90594),A=e(36206),Z=e(51780);const L=(0,E.default)(y.i)`
  flex: 1;
`,j=V=>{const de=strapi.features.isEnabled(strapi.features.SSO),{isLoading:F,data:je}=(0,v.p)({ssoEnabled:de}),{formatMessage:T}=(0,ee.useIntl)();return!de||!F&&je.length===0?t.createElement(A.ZP,null,t.createElement(U.Z,{...V})):t.createElement(A.ZP,null,t.createElement(U.Z,{...V},t.createElement(p.x,{paddingTop:7},t.createElement(O.K,{spacing:7},t.createElement(g.k,null,t.createElement(L,null),t.createElement(p.x,{paddingLeft:3,paddingRight:3},t.createElement(w.Z,{variant:"sigma",textColor:"neutral600"},T({id:"Auth.login.sso.divider"}))),t.createElement(L,null)),t.createElement(Z.Z,{providers:je,displayAllProviders:!1})))))};j.defaultProps={onSubmit:V=>V.preventDefault(),requestError:null},j.propTypes={formErrors:o().object.isRequired,modifiedData:o().object.isRequired,onChange:o().func.isRequired,onSubmit:o().func,requestError:o().object};const P=j},51780:(I,f,e)=>{"use strict";e.d(f,{Z:()=>j});var t=e(67294),l=e(45697),o=e.n(l),E=e(11276),p=e(74571),g=e(11047),y=e(75515),O=e(84495),w=e(71893),ee=e(97132),U=e(49656);const v=w.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:P})=>P.colors.neutral150};
  border-radius: ${({theme:P})=>P.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:P})=>P.colors.neutral600};
`,A=(0,w.default)(g.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:P})=>P.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:P})=>P.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:P})=>P.spaces[2]};
  }
`,Z=({provider:P})=>t.createElement(O.u,{label:P.displayName},t.createElement(v,{href:`${strapi.backendURL}/admin/connect/${P.uid}`},P.icon?t.createElement("img",{src:P.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(y.Z,null,P.displayName)));Z.propTypes={provider:o().shape({icon:o().string,displayName:o().string.isRequired,uid:o().string.isRequired}).isRequired};const L=({providers:P,displayAllProviders:V})=>{const{formatMessage:de}=(0,ee.useIntl)();return V?t.createElement(E.r,{gap:4},P.map(F=>t.createElement(p.P,{key:F.uid,col:4},t.createElement(Z,{provider:F})))):P.length>2&&!V?t.createElement(E.r,{gap:4},P.slice(0,2).map(F=>t.createElement(p.P,{key:F.uid,col:4},t.createElement(Z,{provider:F}))),t.createElement(p.P,{col:4},t.createElement(O.u,{label:de({id:"global.see-more"})},t.createElement(v,{as:U.Link,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(A,{justifyContent:"center"},P.map(F=>t.createElement(Z,{key:F.uid,provider:F})))};L.defaultProps={displayAllProviders:!0},L.propTypes={providers:o().arrayOf(o().object).isRequired,displayAllProviders:o().bool};const j=L},98837:(I,f,e)=>{"use strict";e.d(f,{Z:()=>re});var t=e(67294),l=e(49656),o=e(71893),E=e(68547),p=e(70004),g=e(7681),y=e(11047),O=e(41580),w=e(29728),ee=e(88655),U=e(75515),v=e(185),A=e(97132),Z=e(90594),L=e(36206),j=e(51780),P=e(79690);const V=(0,o.default)(p.i)`
  flex: 1;
`,F=()=>{const ke=strapi.features.isEnabled(strapi.features.SSO),{push:Oe}=(0,l.useHistory)(),{formatMessage:ye}=(0,A.useIntl)(),{isLoading:a,data:S}=(0,Z.p)({ssoEnabled:ke}),K=()=>{Oe("/auth/login")};return!ke||!a&&S.length===0?t.createElement(l.Redirect,{to:"/auth/login"}):t.createElement(L.ZP,null,t.createElement(v.o,null,t.createElement(L.bU,null,t.createElement(L.sg,null,t.createElement(P.Z,null),t.createElement(O.x,{paddingTop:6,paddingBottom:1},t.createElement(U.Z,{as:"h1",variant:"alpha"},ye({id:"Auth.form.welcome.title"}))),t.createElement(O.x,{paddingBottom:7},t.createElement(U.Z,{variant:"epsilon",textColor:"neutral600"},ye({id:"Auth.login.sso.subtitle"})))),t.createElement(g.K,{spacing:7},a?t.createElement(y.k,{justifyContent:"center"},t.createElement(ee.a,null,ye({id:"Auth.login.sso.loading"}))):t.createElement(j.Z,{providers:S}),t.createElement(y.k,null,t.createElement(V,null),t.createElement(O.x,{paddingLeft:3,paddingRight:3},t.createElement(U.Z,{variant:"sigma",textColor:"neutral600"},ye({id:"or"}))),t.createElement(V,null)),t.createElement(w.z,{fullWidth:!0,size:"L",onClick:K},ye({id:"Auth.form.button.login.strapi"})))),t.createElement(y.k,{justifyContent:"center"},t.createElement(O.x,{paddingTop:4},t.createElement(E.Link,{to:"/auth/forgot-password"},t.createElement(U.Z,{variant:"pi"},ye({id:"Auth.link.forgot-password"})))))))};var je=e(42243);const re={...je.Z,providers:{Component:F,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(I,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l={settings:{sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(I,f,e)=>{"use strict";I.exports=e.p+"70674f63fc3904c20de0.svg"}}]);
